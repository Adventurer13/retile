district_housing = {
	base_buildtime = @retile_city_build_time
	icon = district_housing
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_housing < 2
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		planet_housing_add = 5
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			planet_housing_add = 2
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_clerks = {
	base_buildtime = @retile_city_build_time
	icon = district_clerk
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_jobs < 1
				OR = {
					owner = { has_country_flag = retile_ai_needs_energy }
					owner = { has_authority = auth_corporate }
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_clerk_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			job_clerk_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_engineers = {
	base_buildtime = @retile_city_build_time
	icon = district_engineer
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_jobs < 1
				OR = {
					owner = { has_country_flag = retile_ai_needs_alloys }
					owner = { has_country_flag = retile_ai_needs_consumer_goods }
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_foundry_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			job_foundry_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_scholars = {
	base_buildtime = @retile_city_build_time
	icon = district_scholar
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_jobs < 1
				OR = {
					owner = { has_country_flag = retile_ai_needs_science }
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_researcher_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			job_researcher_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_diplomats = {
	base_buildtime = @retile_city_build_time
	icon = district_government
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		owner = { is_ai = no }
		owner = { has_technology = tech_xenodiplomacy }
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {			### Diplomat Jobs
		job_diplomat_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { NOR = {
				has_policy_flag = xenodiplomacy_assembly
				has_policy_flag = xenodiplomacy_magistrate
				has_policy_flag = xenodiplomacy_lr
				has_policy_flag = xenodiplomacy_pr
				has_policy_flag = xenodiplomacy_isolation
				has_policy_flag = xenodiplomacy_gunboat
			} }
		}
		modifier = {
			job_diplomat_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_assembly }
		}
		job_diplomat_add = -2
		job_representative_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_assembly }
		}
		modifier = {
			job_representative_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_magistrate }
		}
		job_diplomat_add = -2
		job_magistrate_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_magistrate }
		}
		modifier = {
			job_magistrate_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_lr }
		}
		job_diplomat_add = -2
		job_lr_manager_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_lr }
		}
		modifier = {
			job_lr_manager_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_pr }
		}
		job_diplomat_add = -2
		job_pr_manager_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_pr }
		}
		modifier = {
			job_pr_manager_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_isolation }
		}
		job_diplomat_add = -2
		job_bureaucrat_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_isolation }
		}
		modifier = {
			job_bureaucrat_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = xenodiplomacy_gunboat }
		}
		job_diplomat_add = -2
		job_strategos_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = xenodiplomacy_gunboat }
		}
		modifier = {
			job_strategos_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_soldiers = {
	base_buildtime = @retile_city_build_time
	icon = district_soldier
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_jobs < 1
				OR = {
					#has_planet_flag = retile_ai_fortress
					AND = {
						num_districts = { type = district_soldiers value < 3 }
						NOR = {
							owner = { has_country_flag = retile_ai_needs_energy }
							owner = { has_country_flag = retile_ai_needs_minerals }
							owner = { has_country_flag = retile_ai_needs_food }
							owner = { has_country_flag = retile_ai_needs_alloys }
							owner = { has_country_flag = retile_ai_needs_consumer_goods }
						}
					}
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_soldier_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			job_soldier_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}

district_enforcers = {
	base_buildtime = @retile_city_build_time
	icon = district_enforcer
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				planet_crime > 33
				OR = {
					free_jobs < 1
					num_districts = { type = district_enforcers value < 1 }
				}
				NOR = {
					owner = { has_country_flag = retile_ai_needs_energy }
					owner = { has_country_flag = retile_ai_needs_minerals }
					owner = { has_country_flag = retile_ai_needs_food }
					owner = { has_country_flag = retile_ai_needs_alloys }
					owner = { has_country_flag = retile_ai_needs_consumer_goods }
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_enforcer_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			NOT = { owner = { has_policy_flag = criminal_military_police } }
		}
		modifier = {
			job_enforcer_add = 1
		}
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_policy_flag = criminal_military_police }
		}
		job_enforcer_add = -2
		job_soldier_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
			owner = { has_policy_flag = criminal_military_police }
		}
		modifier = {
			job_soldier_add = 1
		}
	}	
	
	ai_weight = {
		weight = 1
	}
}

district_custodians = {
	base_buildtime = @retile_city_build_time
	icon = district_custodian
	is_capped_by_modifier = no
	
	show_on_uncolonized = {
		exists = from
		from = { is_gestalt = no }
	}

	potential = {
		exists = owner
		owner = { is_gestalt = no }
		NOR = {
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
		}
	}
	
	allow = {
		OR = {
			owner = { is_ai = no }
			AND = {
				free_jobs < 1
				free_amenities > 300
				NOR = {
					owner = { has_country_flag = retile_ai_needs_energy }
					owner = { has_country_flag = retile_ai_needs_minerals }
					owner = { has_country_flag = retile_ai_needs_food }
					owner = { has_country_flag = retile_ai_needs_alloys }
					owner = { has_country_flag = retile_ai_needs_consumer_goods }
				}
			}
		}
	}

	resources = {
		category = planet_districts_cities
		cost = {
			minerals = @retile_city_cost
		}
		upkeep = {
			energy = @retile_city_upkeep
			consumer_goods = @retile_city_upkeep_supplies
		}
	}
	
	planet_modifier = {
		job_custodian_add = 2
	}
	triggered_planet_modifier = {
		potential = {
			is_planet_class = pc_city
			exists = owner
			owner = { has_ascension_perk = ap_arcology_project }
		}
		modifier = {
			job_custodian_add = 1
		}
	}
	
	ai_weight = {
		weight = 1
	}
}
