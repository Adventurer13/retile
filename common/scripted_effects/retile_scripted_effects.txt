clear_non_district_deposits = { # planet scope
	every_deposit = {
		if = {
			limit = { OR = {
				is_deposit_type = retile_deposit_bioreactor
				is_deposit_type = retile_deposit_assembly
				is_deposit_type = retile_deposit_numistic
				is_deposit_type = retile_deposit_ministry
				is_deposit_type = retile_deposit_waste_reprocessing
				is_deposit_type = retile_deposit_slave
				is_deposit_type = retile_deposit_alignment
			} }
			# do nothing...
		} else = {
			remove_deposit = yes
		}
	}
}

# planet scope, replaces "clear_blockers = yes" everywhere in the game...
retile_clear_blockers = {
	every_deposit = {
		limit = { OR = {
			has_deposit_category = deposit_cat_blockers
			has_deposit_category = deposit_cat_rare_blocker
		} }
		clear_blocker = this
	}
}
clear_blockers = {
	every_deposit = {
		limit = { OR = {
			has_deposit_category = deposit_cat_blockers
			has_deposit_category = deposit_cat_rare_blocker
		} }
		clear_blocker = this
	}
}

# planet scope
retile_exploit_energy = {
	if = {
		limit = {
			any_deposit = {
				is_energy_deposit_low = yes
				has_deposit_category = deposit_cat_energy
			}
		}
		random_deposit = {
			limit = {
				is_energy_deposit_low = yes
				has_deposit_category = deposit_cat_energy
			}
			clear_blocker = yes
		}
	} else_if = {
		limit = {
			any_deposit = {
				is_energy_deposit_med = yes
				has_deposit_category = deposit_cat_energy
			}
		}
		random_deposit = {
			limit = {
				is_energy_deposit_med = yes
				has_deposit_category = deposit_cat_energy
			}
			clear_blocker = yes
		}
	} else = {
		random_deposit = {
			limit = {
				has_deposit_category = deposit_cat_energy
			}
			clear_blocker = yes
		}
	}
}

# planet scope
retile_exploit_minerals = {
	if = {
		limit = {
			any_deposit = {
				is_minerals_deposit_low = yes
				has_deposit_category = deposit_cat_minerals
			}
		}
		random_deposit = {
			limit = {
				is_minerals_deposit_low = yes
				has_deposit_category = deposit_cat_minerals
			}
			clear_blocker = yes
		}
	} else_if = {
		limit = {
			any_deposit = {
				is_minerals_deposit_med = yes
				has_deposit_category = deposit_cat_minerals
			}
		}
		random_deposit = {
			limit = {
				is_minerals_deposit_med = yes
				has_deposit_category = deposit_cat_minerals
			}
			clear_blocker = yes
		}
	} else = {
		random_deposit = {
			limit = {
				has_deposit_category = deposit_cat_minerals
			}
			clear_blocker = yes
		}
	}
}

# planet scope
retile_exploit_food = {
	if = {
		limit = {
			any_deposit = {
				is_food_deposit_low = yes
				has_deposit_category = deposit_cat_food
			}
		}
		random_deposit = {
			limit = {
				is_food_deposit_low = yes
				has_deposit_category = deposit_cat_food
			}
			clear_blocker = yes
		}
	} else_if = {
		limit = {
			any_deposit = {
				is_food_deposit_med = yes
				has_deposit_category = deposit_cat_food
			}
		}
		random_deposit = {
			limit = {
				is_food_deposit_med = yes
				has_deposit_category = deposit_cat_food
			}
			clear_blocker = yes
		}
	} else = {
		random_deposit = {
			limit = {
				has_deposit_category = deposit_cat_food
			}
			clear_blocker = yes
		}
	}
}

# planet scope
retile_exploit_all = {
	every_deposit = {
		limit = {
			has_deposit_category = deposit_cat_energy
			has_deposit_category = deposit_cat_food
			has_deposit_category = deposit_cat_minerals
			has_deposit_category = deposit_cat_rare
		}
		clear_blocker = yes
	}
}

# planet scope
retile_restore_all = {
	every_deposit = {
		limit = {
			has_deposit_category = deposit_cat_energy_active
			has_deposit_category = deposit_cat_food_active
			has_deposit_category = deposit_cat_minerals_active
			has_deposit_category = deposit_cat_rare_active
		}
		clear_blocker = yes
	}
}